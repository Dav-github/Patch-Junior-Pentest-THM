### Introduction to Defensive Security

---

A segurança defensiva é a contra parte da segurança ofensiva, enquanto a segurança ofensiva se concentra em tentar invadir o perimetro, a segurança defensiva se concentra em defender o perimetro, essa defesa é recomendada que seja feita em camadas, e algumas delas são:

- Treinamento do usuário sobre riscos ciberneticos.
- Documentar e gerenciar ativos, é preciso conhecer o sistema para proteger o mesmo.
- Atualização e aplicação de pathes para garantir que esteja utilizando sempre uma versão a mais atualizada e segura possível.
- Configuração de dispositivos de segurança como firewall e IPS. Os firewalls controlam o tráfego de rede que pode entrar e o que pode sair do sistema ou rede, já o IPS é usado para examinar os pacotes que entra e sai da sua rede, procurando assinaturas de possiveis atividades maliciosas podendo gerar logs ou ate mesmo derrubar o ataque.
- Configuração de dispositivos de registro e monitoramento.

![Alt text](image.png)
![Alt text](image-1.png)

### Areas of Defensive Security

---

Vamos abordar alguns tópicos importantes relacionado a segurança defensiva como: _Security Operations Center (SOC)_, _Digital Forensics and Incident Response (DFIR)_ e análise de malware.

**Security Operations Center (SOC)**

Esse time monitora a rede e sistemas buscando detectar eventos maliciosos, algumas das áreas de interesse são:

- **Vulnerabilities:** Sempre que uma vuln do sistema é descoberto, é preciso corrigir, se vc não tiver o azar de estar lidando com uma 0 day pode ser resolvido com um patch de atualização (se voce souber oq está acontecendo), caso não exista um patch/atualização para corrigir a vuln, deve-se fazer de tudo para evitar que um invasor explore, reduzindo ao maximo a superfície de ataque.

- **Policy violations:** Policy são um conjunto de regras que são configuradas em uma rede, basicamente nela temos os tipo de usuário que existe e quais os seus privilégios.

- **Unauthorized activity:** Atividade não autorizada, também chamada de acesso não autorizado, significa acessar um sistema ou dados sem permissão. A gravidade da atividade não autorizada pode variar dependendo do contexto, mas geralmente se refere a ações que violam a segurança e a privacidade. um SOC precisa detectar esses eventos e bloquear o mais rápido possível evitando maiores danos.

- **Network intrusions:** Uma invasão de rede, também conhecida como intrusão de rede, é qualquer atividade não autorizada em uma rede de computadores. Invasores mal-intencionados realizam essas atividades para roubar dados confidenciais, implantar malware, interromper operações ou obter acesso não autorizado a recursos da rede. sempre existe um risco envolvido com um sistema online, podendo ser através de um link malicioso ou de um servidor.

**Threat Intelligence:**

Nesse contexto, inteligência refere-se as informações que vc coleta sobre possiveis inimigos. Uma ameaça é qualquer ação que possa interromper ou afetar um sistema. Threat intelligence tem o objetivo de recolher informação para ajudar a companhia se preparando contra possiveis adversários.

Inteligencia precisa de dados, eles devem ser coletados, processados e analisados, algumas fontes são registros de rede e fontes públicas. o processamento dos dados visa organizar em um formato adequado para análise. Já a fase de análise procura encontrar mais informações sobre os atacantes e seus motivos, além de criar uma lista de recomendações e medidas viáveis.

Aprender sobre seus adversários permite que você conheça suas táticas, técnicas e procedimentos. Como resultado da inteligência de ameaças, identificamos o ator da ameaça (adversário), prevemos a sua atividade e, consequentemente, seremos capazes de mitigar os seus ataques e preparar uma estratégia de resposta.

**Digital Forensics and Incident Response (DFIR)**

Esta seção é sobre Análise Forense Digital e Resposta a Incidentes (DFIR) e abordaremos:

- Digital Forensics
- Incident Response
- Malware Analysis

**Digital Forensics:**

Com o uso crescente de sistemas digitais como computadores e smartphones, a forense digital se torna cada vez mais relevante, a forense usa diversas técnicas para analisar os dispositivos e sistemas tais como:

- **Sistema de arquivos:** É utilizados programas para fazer uma análise de baixo-nível bem bit a bit assim podendo ter acesso a programas instalados, arquivos criados, parcialmente sobre-escritos ou ate mesmo apagados.

- **Memória do sistema:** Caso o programa malicioso seja executado sem ser salva no disco de armazenamento, é importante vasculhar a memoria RAM.

- **Registros do sistema:** Dispositivos em geral registram em arquivos de logs suas atividades, mesmo que um invasor tente apagar seus rastros, os logs podem ter informações valiosas.

- **Registros de rede:** Analisar o tráfego capturado na rede é útil para responder caso um ataque esteja acontecendo, podemos descobrir informações como origem e tipo de ataque.

**Incident Response**

Um incidente geralmente se refere a uma violação de dados ou a um ataque cibernético, porem o termo é bem amplo e pode cobrir situações mais ou menos críticas como invasão física, tentativa de ataque, violações da polices entre outros, o time de resposta a incidente é o time que vai agir nesses momentos procurando sempre mitigar os danos e eliminar a ameaça do sistema.

As 4 principais fases do processo de resposta a incidentes são:

- **Preparação:** Nessa fase são implementadas medidas para impedir que incidentem acontecçam.

- **Detecção e análise:** São usados programas para analisar a rede afim de detectar se um ataque e medir o impacto causado.

- **Contenção, Erradicação e Recuperação:** Identificando o ataque é essencial isolar os sistemas afetados, assim começando a etapa de limpeza eliminando o vírus/invasor conseguindo assim recuperar o sistema.

- **Atividades Pós-incidente:** Aqui é elaborado um relatório com as lições aprendidas para evitar incidentes da mesma natureza no futuro.

![alt text](image-2.png)

**Malware Analysis**

Malware ou software malicioso, se refere a um programa, ou arquivo qualquer que vc pode salvar no disco ou enviar pela rede, uma vez em um dispositivo de uma vitima é executado uma função maliciosa.

Temos muitos tipos de malwares tais como:

- **Vírus:** Um virus é um codigo que se anexa a outro programa, ele foi projetado para se espalhar na rede podendo gerar lentidão e outros problemas.

- **Cavalo de troia:** Assim como na história esse tipo de virus usa a mesma estratégia, é ofertado um app qualquer porém o hacker junta o app normal com um codigo que geralmente é usado para ter controle total de uma máquina _'tipo o kmspico'_

- **Ransomware:** O ransomware é um programa que criptografa seus arquivos, possibilitando que um hacker possa 'sequestrar' seus dados pedindo um resgate.

A análise de malware visa entender como esses programas funcionam usando 2 métodos.

- **Análise estática:** Funciona escovando bit desses programas maliciosos sem executar, aqui é necessário um conhecimento solido em assembly e como funciona um computador.

- **Análise dinâmica:** Funciona executando o malware em um ambiente controlado, assim monitorando as atividades.
